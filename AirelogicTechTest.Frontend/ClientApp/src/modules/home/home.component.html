<h1>API, the Musical Kind.</h1>
<h3>Cos' who doesn't love data!?</h3>

<img src="../assets/undraw_compose_music_ovo2.svg" />

<form [formGroup]="lyricsForm" (ngSubmit)="onLyricSubmit()">
  <div class="form-row">
    <div class="col-md-6 form-group">
      <input type="text" name="name" class="form-control" formControlName="artist" id="artist" placeholder="Artist" required />
    </div>
    <div class="col-md-6 form-group">
      <input type="text" class="form-control" name="title" formControlName="title" id="title" placeholder="Title" required />
    </div>
  </div>
  <div class="text-center">
    <button type="submit" [disabled]="!lyricsForm.valid">Count Lyrics</button>
  </div>
</form>
<div *ngIf="lyricResults">
  <p>There are <strong>{{lyricCount}}</strong> words in this song.</p>

  <div class="container">
    <div id="accordion">
      <div class="card py-0 mb-3">
        <div class="d-flex align-items-center justify-content-between py-5" id="headingOne">
          <h2 class="fs-xs lh-lg">The quick brown fox jumps over the lazy dog</h2>
          <button class="btn btn-neutral d-inline-flex flex-shrink-0 align-items-center justify-content-center p-0 rounded-circle" data-toggle="collapse" data-target="#collapseOne" style="width: 1.5rem; height: 1.5rem;" type="button" aria-expanded="false" aria-controls="collapseOne">
            <svg class="gi gi-arrow-ios-downward" width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M18.707 8.293a1 1 0 0 0-1.32-.083l-.094.083L12 13.585 6.707 8.293a1 1 0 0 0-1.32-.083l-.094.083a1 1 0 0 0-.083 1.32l.083.094 6 6a1 1 0 0 0 1.32.083l.094-.083 6-6a1 1 0 0 0 0-1.414z"></path>
            </svg>
          </button>
        </div>
        <div class="collapse" id="collapseOne" data-parent="#accordion" aria-labelledby="headingOne">
          <div class="py-5 border-top">
            <p>{{lyricResults}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<hr />
<form [formGroup]="searchForm" (ngSubmit)="onSearchSubmit()">
  <div class="form-row">
    <div class="col form-group">
      <input type="text" name="searchTerm" class="form-control" formControlName="searchTerm" id="searchTerm" placeholder="E.g. Coldplay" required />
    </div>
  </div>
  <div class="text-center">
    <button type="submit" [disabled]="!searchForm.valid">Search</button>
  </div>
</form>
<div *ngIf="searchResults">
  <h3>{{searchResults.artists.hits[0].artist.name}}</h3>
  <img src="{{searchResults.artists.hits[0].artist.avatar}}" alt="{{searchResults.artists.hits[0].artist.name}}" />
  <ul>
    <li *ngFor="let item of searchResults.tracks.hits">
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <img src="{{item.track.share.image}}" />
          </div>
          <div class="col-md-10">
            <p>{{item.track.title}}</p>
            <p>{{item.track.lyricWordCount}}</p>
            <a href="{{item.track.url}}"><fa-icon [icon]="faShareSquare"></fa-icon> Shazam</a>
          </div>
        </div>
      </div>
    </li>
  </ul>
</div>
